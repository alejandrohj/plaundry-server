(this["webpackJsonpplaundry-client"]=this["webpackJsonpplaundry-client"]||[]).push([[0],{149:function(e,t,a){},213:function(e,t,a){e.exports=a.p+"static/media/cat.ee677a34.gif"},223:function(e,t,a){e.exports=a(461)},228:function(e,t,a){},251:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},458:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(228),a(4)),i=a(13),s="https://plaundry.herokuapp.com/api",m="https://plaundry.herokuapp.com/",u=a(8),d=a.n(u),p=Object(n.createContext)(null),g=a(471),E=a(205),f=a(9),h=a(472),y=a(473);function b(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{sticky:"top",className:"admin-nav",expand:"lg"},r.a.createElement(f.b,{to:"/"},r.a.createElement("img",{src:"".concat(m,"/white-logo.png"),style:{width:"150px"},alt:"logo"})),r.a.createElement("div",{style:{justifySelf:"self-end"}},e.loggedInUser?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(y.a.Item,null,r.a.createElement(f.b,{to:"/userOrders"},r.a.createElement(E.a,{style:{border:"none",backgroundColor:"transparent",color:"white"}},"My orders"))),r.a.createElement(y.a.Item,null,r.a.createElement(E.a,{style:{border:"none",backgroundColor:"transparent",color:"white"},onClick:e.onLogOut},"Log Out"))):r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{style:{color:"white"},href:"/sign-in"},"Signin")))),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}))}function v(e){return e.toHome?r.a.createElement(i.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser}),r.a.createElement("div",{className:"signin"},r.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px"}},r.a.createElement("em",null,"Plaundry helps you to keep your clothes clean and ready to be used")),r.a.createElement(g.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignIn},r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Email address"),r.a.createElement(g.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(g.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicPassword"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Password"),r.a.createElement(g.a.Control,{name:"password",type:"password",placeholder:"Password"}),r.a.createElement(g.a.Text,{className:"text-muted"},"Password needs to have a number, a character, a lowercase and uppercase letter and needs to have at least 8 characters.")),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement(E.a,{style:{fontSize:"20px"},className:"general-btn",variant:"primary",type:"submit"},"Sign In")),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",margin:"10px"}},"No account yet?"),r.a.createElement(f.b,{to:"/sign-up",style:{display:"flex",justifyContent:"center",fontWeight:"600",textDecoration:"underline",color:"#036C9C"}},"Sign Up"),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",fontWeight:"600",fontSize:"16px",margin:"0% 18%",paddingTop:"20px",paddingBottom:"50px"}},"Do you have any question or need some support?",r.a.createElement("br",null),"Reach out to us by ",r.a.createElement("a",{href:"mailto:info@plaundry.com"},r.a.createElement("img",{style:{width:"20px"},src:"".concat(m,"/email-blue.png"),alt:"email"})))))}function x(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"admin-nav",expand:"lg"},r.a.createElement(f.b,{to:"/"},r.a.createElement("img",{src:"".concat(m,"/white-logo.png"),style:{width:"150px"},alt:"logo"})),e.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(y.a,{className:"mr-auto"},"admin"===e.loggedInUser.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/admin",className:"nav-link",style:{color:"white",fontWeight:"600"}},"Edit items"),r.a.createElement(f.b,{to:"/admin/deliverersmanage",className:"nav-link",style:{color:"white",fontWeight:"600"}},"Deliverers"),r.a.createElement(f.b,{to:"/admin/avaibility",className:"nav-link",style:{color:"white",fontWeight:"600"}},"Availability")):"",r.a.createElement(f.b,{to:"/admin/delivery",className:"nav-link",style:{color:"white",fontWeight:"600"}},"Orders")),r.a.createElement(y.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(h.a.Text,{style:{marginRight:"15px"}},e.loggedInUser.type[0].toUpperCase()+e.loggedInUser.type.slice(1,e.loggedInUser.type.length)),r.a.createElement(E.a,{className:"admin-nav-btn",style:{fontWeight:"600"},onClick:e.onAdminLogOut},"Log Out")))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}))}a(149);function C(e){return e.loggedInUser?r.a.createElement(i.a,{to:"/admin"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{onAdminLogOut:e.onAdminLogOut}),r.a.createElement("div",{className:"admin-signin"},r.a.createElement("p",{style:{textAlign:"center",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px",paddingTop:"30px"}},r.a.createElement("em",null,"Plaundry helps you reach your customers easily and user-friendly.")),r.a.createElement(g.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignIn},r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Email address"),r.a.createElement(g.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(g.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicPassword"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Password"),r.a.createElement(g.a.Control,{name:"password",type:"password",placeholder:"Password"}),r.a.createElement(g.a.Text,{className:"text-muted"},"Password needs to have a number, a character, a lowercase and uppercase letter and needs to have at least 8 characters.")),e.adminErr?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement(E.a,{style:{fontSize:"20px"},className:"general-btn",variant:"primary",type:"submit"},"Sign In")),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",fontWeight:"600",fontSize:"16px",margin:"0% 18%",paddingTop:"20px",paddingBottom:"50px"}},"Do you want to use Plaundry for your businnes?",r.a.createElement("br",null),"Reach out to us by ",r.a.createElement("a",{href:"mailto:business@plaundry.com"},r.a.createElement("img",{style:{width:"20px"},src:"".concat(m,"/email-blue.png"),alt:"email"})))))}function O(e){return e.toHome?r.a.createElement(i.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser}),r.a.createElement("div",{className:"signup"},r.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px"}},r.a.createElement("em",null,"Plaundry helps you to keep your clothes clean and ready to be used")),r.a.createElement(g.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignUp},r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Username"),r.a.createElement(g.a.Control,{name:"username",type:"text",placeholder:"Enter username"}),r.a.createElement(g.a.Text,{className:"text-muted"},"Share us your nick name")),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Email address"),r.a.createElement(g.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(g.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicPassword"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Password"),r.a.createElement(g.a.Control,{name:"password",type:"password",placeholder:"Password"}),r.a.createElement(g.a.Text,{className:"text-muted"},"Password needs to have a number, a character, a lowercase and uppercase letter and needs to have at least 8 characters.")),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement(E.a,{style:{fontSize:"20px"},className:"general-btn",variant:"primary",type:"submit"},"Sign Up")),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C"}},"Already registered?"),r.a.createElement(f.b,{to:"/sign-in",style:{display:"flex",justifyContent:"center",fontWeight:"600",textDecoration:"underline",color:"#036C9C"}},"Sign In"),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",fontWeight:"600",fontSize:"16px",margin:"0% 18%",paddingTop:"20px",paddingBottom:"50px"}},"Do you have any question or need some support?",r.a.createElement("br",null),"Reach out to us by ",r.a.createElement("a",{href:"mailto:info@plaundry.com"},r.a.createElement("img",{style:{width:"20px"},src:"".concat(m,"/email-blue.png"),alt:"email"})))))}var S=a(469),w=a(466),N=a(207);function j(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=function(){return c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Create, edit and delete your laundryitems."),r.a.createElement("div",{className:"create-laundryitem-btn"},r.a.createElement(E.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Create a new item")),r.a.createElement(S.a,{centered:!0,show:l,onHide:i},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"admin-card-title"},"Create a new item")),r.a.createElement(S.a.Body,null,r.a.createElement(g.a,{onSubmit:e.onCreate},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Name"),r.a.createElement(g.a.Control,{name:"name",type:"text",placeholder:"Enter name"})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Description"),r.a.createElement(g.a.Control,{name:"description",type:"text",placeholder:"Enter description",maxlength:"100"})),r.a.createElement(w.a,null,r.a.createElement(N.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Price"),r.a.createElement(g.a.Control,{name:"price",min:"0",max:"50",step:"0.01",type:"number"}))),r.a.createElement(N.a,null,r.a.createElement(g.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(g.a.Label,{className:"admin-card-title"},"Category"),r.a.createElement(g.a.Control,{name:"category",as:"select"},r.a.createElement("option",null,"Choose a category"),["bags","bedding","business","clothing","towels"].map((function(e,t){return r.a.createElement("option",{key:"category"+t,value:e},e)})))))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Add an image"),r.a.createElement(g.a.File,{name:"image",id:"exampleFormControlFile1"})),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(E.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?r.a.createElement(E.a,{className:"general-btn",onClick:i},"Back to list"):r.a.createElement(r.a.Fragment,null))))))}var k=a(474);function I(e){var t=Object(n.useState)(e.item),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=m[0],p=m[1],f=Object(n.useState)(!1),h=Object(o.a)(f,2),y=h[0],b=h[1],v=function(){return b(!1)};return r.a.createElement(k.a,{className:"adminlaundrycard",style:{height:"auto",alignItems:"center"}},r.a.createElement("img",{src:l.image,style:{width:"150px",height:"200px"},alt:"laundry-img",className:"laundrycard-img"}),r.a.createElement(g.a,{className:"laundrycard-form"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Name"),r.a.createElement(g.a.Control,{onChange:function(e){var t=JSON.parse(JSON.stringify(l));t.name=e.currentTarget.value,c(t)},name:"name",type:"text",value:l.name})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Description"),r.a.createElement(g.a.Control,{onChange:function(e){var t=JSON.parse(JSON.stringify(l));t.description=e.currentTarget.value,c(t)},name:"description",type:"text",value:l.description,maxlength:"100"})),r.a.createElement(w.a,null,r.a.createElement(N.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Price"),r.a.createElement(g.a.Control,{onChange:function(e){if(e.currentTarget.value<0)p(!0);else{var t=JSON.parse(JSON.stringify(l));t.price=e.currentTarget.value,c(t),p(!1)}},name:"price",type:"number",min:"0",max:"50",step:"0.01",value:l.price}),u?"Price must be bigger than 0":r.a.createElement(r.a.Fragment,null))),r.a.createElement(N.a,null,r.a.createElement(g.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(g.a.Label,{className:"admin-card-title"},"Category"),r.a.createElement(g.a.Control,{onChange:function(e){var t=JSON.parse(JSON.stringify(l));t.category=e.currentTarget.value,c(t)},name:"category",as:"select",defaultValue:l.category},["bags","bedding","business","clothing","towels"].map((function(e,t){return r.a.createElement("option",{key:"cat"+t,value:e},e)})))))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Change image"),r.a.createElement(g.a.File,{onChange:function(e){var t=JSON.parse(JSON.stringify(l)),a=new FormData;a.append("imageUrl",e.currentTarget.files[0]),d.a.post("".concat(s,"/upload"),a).then((function(e){t.image=e.data.image,c(t)}))},name:"image",id:"exampleFormControlFile1"})),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(E.a,{className:"general-btn",onClick:function(){return e.onEdit(l)},style:{height:"40px",width:"40%",margin:"10px 20px"},variant:"primary"},"Save"),r.a.createElement(E.a,{onClick:function(){return b(!0)},variant:"danger",style:{height:"40px",width:"40%",margin:"10px 20px"}},"Delete")),r.a.createElement(S.a,{centered:!0,show:y,onHide:v},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"admin-card-title",style:{textAlign:"center"}},"Are you sure you want to delete this item?")),r.a.createElement(S.a.Body,{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(E.a,{className:"general-btn",onClick:v,style:{height:"40px",width:"100px"},variant:"primary"},"No"),r.a.createElement(E.a,{onClick:function(){e.onDelete(l._id),v()},style:{height:"40px",width:"100px"},variant:"danger"},"Yes")))))}var T=a(467);function L(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:"admin-list-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement(T.a,{animation:"border",role:"status",style:{color:"#46C5FF"}})))}function D(e){return e.laundrylist?r.a.createElement("div",{className:"admin-list-container"},e.laundrylist.map((function(t){return r.a.createElement(I,{onEdit:e.onEdit,onDelete:e.onDelete,item:t,key:"laundry"+t._id,err:e.err,errorMessage:e.errorMessage,handleError:e.handleError})}))):r.a.createElement(L,null)}function U(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],y=f[1];return Object(n.useEffect)((function(){d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){"admin"===e.data.type&&y(!0),c(e.data)})).catch((function(){g(!0)}))}),[]),p||e.toIntro?r.a.createElement(i.a,{to:"/admin/sign-in"}):l?l&&!h?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(x,{loggedInUser:e.loggedInUser,onAdminLogOut:e.onAdminLogOut}),r.a.createElement(j,{onCreate:e.onCreate,err:e.err,errorMessage:e.errorMessage,handleError:e.handleError,createSucces:e.createSucces}),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement(D,{laundrylist:e.laundrylist,onEdit:e.onEdit,onDelete:e.onDelete,err:e.err,errorMessage:e.errorMessage,handleError:e.handleError})):r.a.createElement(L,null)}function F(e){var t=e.order,a=(t.orderItems,t.status),n=t.userId,l=t._id,c=t.pickUp,o=t.delivery,i=t.message,s="to pick up"===a?"#ff8000":"picked up"===a?"#00008a":"washing"===a?"0080ff":"to deliver"===a?"#ffbf00":"#5e5d5c";return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",height:"500px"}},r.a.createElement(k.a,{style:{minWidth:"20rem",margin:"1rem",borderRadius:"5px",border:"1px solid #46C5FF"}},r.a.createElement(k.a.Body,{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{color:"#328CB6"}},r.a.createElement("h5",null,n.name.firstName),r.a.createElement("h6",null,n.address.city),r.a.createElement("hr",null),r.a.createElement("h5",null,"Status : ",r.a.createElement("b",{style:{color:s}},a)),r.a.createElement("hr",null),r.a.createElement("h6",null,r.a.createElement("u",null,"Dates"),":"),"to pick up"===a?r.a.createElement("p",null,"Must be picked up the ",r.a.createElement("b",null,c.slice(0,10))," at ",r.a.createElement("b",null,c.slice(11,16),"h")):r.a.createElement("p",null,"Picked up the ",r.a.createElement("b",null,c.slice(0,10))," at ",r.a.createElement("b",null,c.slice(11,16),"h")),"to deliver"===a?r.a.createElement("p",null,"Must be delivered the ",r.a.createElement("b",null,o.slice(0,10))," at ",r.a.createElement("b",null,o.slice(11,16),"h")):"delivered"===a?r.a.createElement("p",null,"Delivered the ",r.a.createElement("b",null,o.slice(0,10))," at ",r.a.createElement("b",null,o.slice(11,16),"h")):r.a.createElement("p",null,"Delivery day: ",r.a.createElement("b",null,o.slice(0,10))," at ",r.a.createElement("b",null,o.slice(11,16),"h")),r.a.createElement("hr",null),i?r.a.createElement("p",null,i):r.a.createElement("p",null,r.a.createElement("em",null,"No feedback yet")),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(f.b,{style:{marginLeft:"30px"},to:"/admin/delivery/".concat(l,"/details")},r.a.createElement(E.a,{className:"general-btn"},"Details")))))))}var B=a(470);a(251);function P(e){return r.a.createElement("div",{className:"sortbar",style:{textAlign:"center"}},r.a.createElement("div",{className:"sortOrdersInput"},r.a.createElement(B.a,{className:"dropdowner"},r.a.createElement(B.a.Toggle,{id:"dropdown-basic",className:"general-btn"},"Sort by date"),r.a.createElement(B.a.Menu,null,r.a.createElement(B.a.Item,{onClick:e.sortPickUp},"Pick up"),r.a.createElement(B.a.Item,{onClick:e.sortDelivery},"Delivery")))),r.a.createElement("div",{className:"filter"},["checkbox"].map((function(e){return r.a.createElement("div",{key:"inline-".concat(e),className:"mb-3"},r.a.createElement(g.a.Check,{name:"status",value:"to pick up",inline:!0,label:"to pick up",type:e,id:"inline-".concat(e,"-1")}),r.a.createElement(g.a.Check,{inline:!0,name:"status",value:"picked up",label:"picked up",type:e,id:"inline-".concat(e,"-2")}),r.a.createElement(g.a.Check,{inline:!0,name:"status",value:"washing",label:"washing",type:e,id:"inline-".concat(e,"-2")}),r.a.createElement(g.a.Check,{inline:!0,name:"status",value:"to deliver",label:"to deliver",type:e,id:"inline-".concat(e,"-2")}),r.a.createElement(g.a.Check,{inline:!0,name:"status",value:"delivered",label:"delivered",type:e,id:"inline-".concat(e,"-2")}))})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{style:{marginTop:"0px",width:"100px"},className:"general-btn",onClick:e.handleFilter},"Filter"))))}function A(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],y=f[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),C=v[0],O=v[1],S=Object(n.useState)(),w=Object(o.a)(S,2),N=w[0],j=w[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/orders"),{withCredentials:!0}).then((function(e){c(e.data),j(e.data)})),d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){"deliverer"!==e.data.type&&"admin"!==e.data.type||O(!0),y(e.data)})).catch((function(){g(!0)}))}),[]);return p||e.toIntro?r.a.createElement(i.a,{to:"/"}):h&&l&&N?h&&!C?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(x,{loggedInUser:e.loggedInUser,onAdminLogOut:e.onAdminLogOut}),r.a.createElement(P,{sortPickUp:function(){var e=JSON.parse(JSON.stringify(N));e.sort((function(e,t){return e.pickUp<t.pickUp?-1:e.pickUp>t.pickUp?1:0})),c(e)},sortDelivery:function(){var e=JSON.parse(JSON.stringify(N));e.sort((function(e,t){return e.delivery<t.delivery?-1:e.delivery>t.delivery?1:0})),c(e)},handleFilter:function(){var e=[];document.querySelectorAll('input[name="status"]:checked').forEach((function(t){e.push(t.value)}));var t=[];e.length?(e.forEach((function(e){l.forEach((function(a){a.status===e&&t.push(a)}))})),j(t)):j(l)}}),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{className:"user-orders-container",style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},0===N.length?r.a.createElement("p",null,"No orders"):N.map((function(e,t){return r.a.createElement(F,{key:"orders"+t,order:e})})))):r.a.createElement(L,null)}var W=a(475),J=a(107),M=Object(J.withGoogleMap)((function(e){return r.a.createElement(J.GoogleMap,{defaultZoom:19,defaultCenter:e.coordinates},r.a.createElement(J.Marker,{position:e.coordinates}))}));function G(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],m=e.match.params.id;Object(n.useEffect)((function(){d.a.get("".concat(s,"/order/").concat(m),{withCredentials:!0}).then((function(e){c(e.data)}))}),[]);if(!l)return r.a.createElement(L,null);if(!e.loggedInUser)return r.a.createElement(i.a,{to:"/admin/sign-in"});if(e.toIntro)return r.a.createElement(i.a,{to:"/"});var u=l.status,p=l.userId,g=l.orderItems,f=l.pickUp,h=l.delivery;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{loggedInUser:e.loggedInUser,onAdminLogOut:e.onAdminLogOut}),r.a.createElement("div",{style:{background:"linear-gradient(180deg, rgba(228,246,255,1) 30%, rgba(141,217,252,1) 100%)",height:"100%",paddingTop:"10px"}},r.a.createElement(k.a,{style:{minWidth:"20rem",margin:"10px 2rem",color:"#036C9C"}},r.a.createElement(k.a.Body,null,r.a.createElement("div",null,r.a.createElement("h5",null,p.name.firstName),r.a.createElement("h6",null,p.address.city),r.a.createElement("hr",null),"to pick up"===u?r.a.createElement("p",null,"Must be picked up the ",r.a.createElement("b",null,f.slice(0,10))," at ",r.a.createElement("b",null,f.slice(11,16),"h")):r.a.createElement("p",null,"Picked up the ",r.a.createElement("b",null,f.slice(0,10))," at ",r.a.createElement("b",null,f.slice(11,16),"h")),"to deliver"===u?r.a.createElement("p",null,"Must be delivered the ",r.a.createElement("b",null,h.slice(0,10))," at ",r.a.createElement("b",null,h.slice(11,16),"h")):"delivered"===u?r.a.createElement("p",null,"Delivered the ",r.a.createElement("b",null,h.slice(0,10))," at ",r.a.createElement("b",null,h.slice(11,16),"h")):r.a.createElement("p",null,"Delivery day: ",r.a.createElement("b",null,h.slice(0,10))," at ",r.a.createElement("b",null,h.slice(11,16),"h")),r.a.createElement(M,{coordinates:p.address.coordinates,containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),r.a.createElement("h6",null,p.city),"delivered"===u?r.a.createElement(E.a,{className:"general-btn",disabled:!0},u):r.a.createElement(E.a,{className:"general-btn",onClick:function(){return"to pick up"===(e=l.status)?e="picked up":"picked up"===e?e="washing":"washing"===e?e="to deliver":"to deliver"===e&&(e="delivered"),void d.a.post("".concat(s,"/order/").concat(m,"/edit"),{status:e},{withCredentials:!0}).then((function(t){t.data.status=e,c(t.data)}));var e}},u)),r.a.createElement("hr",null),r.a.createElement(W.a,{className:"list-group-flush",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"}},g.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a.Item,{style:{display:"flex",alignItems:"center",border:"1px solid",borderRadius:"10px",margin:"10px"}},r.a.createElement("h6",null,r.a.createElement("b",null,"x",e.quantityOflaundries," ",e.laundry.name[0].toUpperCase()+e.laundry.name.slice(1,e.laundry.name.length))),r.a.createElement("img",{src:e.laundry.image,style:{height:"100px",marginLeft:"20px",borderRadius:"10px"}})),r.a.createElement("hr",null))})))))))}var z=a(206);function _(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),u=i[0],p=i[1],h=Object(n.useState)(!1),y=Object(o.a)(h,2),b=y[0],v=y[1],x=Object(n.useRef)(),C=Object(n.useState)(null),O=Object(o.a)(C,2),j=O[0],k=O[1],I=Object(n.useState)(!1),T=Object(o.a)(I,2),D=T[0],U=T[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/availability"),{withCredentials:!0}).then((function(e){l(e.data)})).catch((function(e){}))}),[]);return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{centered:!0,show:b},r.a.createElement(S.a.Header,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(S.a.Title,{className:"admin-card-title"},"Discover Plaundry")),r.a.createElement(S.a.Body,{style:{textAlign:"center"}},u?r.a.createElement("p",null,"Good news: our service is available in your location. You never have to do your own laundry again!"):r.a.createElement("p",null,"Sorry, our services are not available in your location. But you can still try our app."),r.a.createElement("hr",null),r.a.createElement(f.b,{to:"/home"},r.a.createElement(E.a,{className:"general-btn"},"Go")))),r.a.createElement("div",{className:"splash-body"},r.a.createElement("div",{className:"splash"},r.a.createElement("h1",{className:"splash-title"},"Welcome to"),r.a.createElement("img",{style:{width:"280px"},src:"".concat(m,"/white-logo.png"),alt:"logo"})),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{className:"check-text"},r.a.createElement("p",{style:{color:"#328CB6",fontWeight:"600",fontSize:"20px"},className:"check-p"},"Check if our service is available in your area:"),D?r.a.createElement("p",{style:{color:"#328CB6"}},j):r.a.createElement(r.a.Fragment,null),r.a.createElement(g.a,{className:"check-text"},r.a.createElement(z.a,{ref:x,className:"check-form",placeholder:"Postal Code","aria-label":"Postal Code","aria-describedby":"basic-addon2"}),r.a.createElement(E.a,{onClick:function(){var e=x.current.value;if(!e)return k("Please enter your postal code"),void U(!0);console.log(typeof e),a.forEach((function(t){console.log(t.Code,"and",e,"and",t.available),t.Code==e&&1==t.available&&(console.log("match"),p(!0),U(!1))})),v(!0)},className:"check-btn",variant:"outline-secondary"},"Check"))),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{className:"splash-expl"},r.a.createElement("h3",{className:"expl-head",style:{color:"#036C9C",fontWeight:"600",fontSize:"25px"}},"How does it work?"),r.a.createElement("h5",{className:"expl-head",style:{color:"#036C9C",fontWeight:"600"}},"Plaundry does your laundry for you!"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap"}},r.a.createElement("div",{className:"expl-container"},r.a.createElement("img",{src:"".concat(m,"/magnify-blue.png"),style:{width:"40px"},alt:"search"}),r.a.createElement("p",{style:{color:"#036C9C",fontWeight:"600"}},r.a.createElement("strong",null,"Find")," the items you need cleaned")),r.a.createElement("div",{className:"expl-container"},r.a.createElement("img",{style:{width:"40px"},src:"".concat(m,"/calendar-blue.png"),alt:"search"}),r.a.createElement("p",{style:{color:"#036C9C",fontWeight:"600"}},r.a.createElement("strong",null,"Schedule")," pick up and delivery")),r.a.createElement("div",{className:"expl-container"},r.a.createElement("img",{style:{width:"40px"},src:"".concat(m,"/creditcard-blue.png"),alt:"search"}),r.a.createElement("p",{style:{color:"#036C9C",fontWeight:"600"}},r.a.createElement("strong",null,"Pay")," and we take care of the rest")))),r.a.createElement("div",{className:"splash-footer"},r.a.createElement(w.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(f.b,{to:"/admin/sign-in"},r.a.createElement("p",{className:"footer-text"},"Admin")),r.a.createElement(f.b,{to:"/deliverer/sign-in"},r.a.createElement("p",{className:"footer-text"},"Deliverer")))),r.a.createElement(N.a,null,r.a.createElement("p",{className:"footer-text",style:{textAlign:"right"}},"Reach us by ",r.a.createElement("a",{href:"mailto:info@plaundry.com"},r.a.createElement("img",{style:{width:"20px"},src:"".concat(m,"/email-outline.png"),alt:"email"})))))))):r.a.createElement(L,null)}function R(e){return r.a.createElement("div",null,r.a.createElement(h.a,{className:"category-navbar",style:{display:"flex",justifyContent:"space-around",padding:"0"}},r.a.createElement(y.a.Item,null,r.a.createElement("button",{className:"nav-link",onClick:function(){return e.onCatSelect("clothing")},style:{textAlign:"center",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:"".concat(m,"/tshirt-crew-outline.png"),alt:"shirt"})," ",r.a.createElement("p",{style:{fontSize:"10px",padding:"0px",margin:"0px"}},"Clothes"))),r.a.createElement(y.a.Item,null,r.a.createElement("button",{onClick:function(){return e.onCatSelect("bedding")},style:{textAlign:"center",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:"".concat(m,"/bed-king-outline.png"),alt:"bed"})," ",r.a.createElement("p",{style:{fontSize:"10px",padding:"0px",margin:"0px"}},"Bedding"))),r.a.createElement(y.a.Item,null,r.a.createElement("button",{onClick:function(){return e.onCatSelect("bags")},style:{textAlign:"center",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:"".concat(m,"/sack.png"),alt:"sack"})," ",r.a.createElement("p",{style:{fontSize:"10px",padding:"0px",margin:"0px"}},"Laundry"))),r.a.createElement(y.a.Item,null,r.a.createElement("button",{onClick:function(){return e.onCatSelect("towels")},style:{textAlign:"center",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:"".concat(m,"/shower-head.png"),alt:"shower"})," ",r.a.createElement("p",{style:{fontSize:"10px",padding:"0px",margin:"0px"}},"Bathroom"))),r.a.createElement(y.a.Item,null,r.a.createElement("button",{onClick:function(){return e.onCatSelect("business")},style:{textAlign:"center",border:"none",backgroundColor:"transparent"}},r.a.createElement("img",{src:"".concat(m,"/handshake-outline.png"),alt:"business"})," ",r.a.createElement("p",{style:{fontSize:"10px",padding:"0px",margin:"0px"}},"Business")))),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}))}function H(e){var t=e.laundries.filter((function(t){return t.category===e.filter}));return r.a.createElement("div",{className:"LaundriesList"},t.map((function(t,a){return r.a.createElement(k.a,{className:"LaundryCard",key:"laundry"+a,style:{width:"340px",flexDirection:"row",maxHeight:"252px",borderRadius:"5px",border:"1px solid #46C5FF"}},r.a.createElement("img",{src:t.image,style:{height:"250px",width:"150px"},alt:"img"}),r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,null,t.name),r.a.createElement(k.a.Text,null,t.description),r.a.createElement(k.a.Text,null,t.price,"\u20ac"),r.a.createElement("div",{className:"addOrRemove",style:{display:"flex",justifyContent:"center"}},0===t.quantity?r.a.createElement(E.a,{disabled:!0,className:"lbtn",onClick:function(){return e.onChangeAmount("less",t._id)},variant:"danger"},"-"):r.a.createElement(E.a,{className:"lbtn",onClick:function(){return e.onChangeAmount("less",t._id)},variant:"danger"},"-"),r.a.createElement("label",{style:{border:"none"}},t.quantity),r.a.createElement(E.a,{className:"general-btn lbtn",onClick:function(){return e.onChangeAmount("more",t._id)}},"+"))))})))}function q(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1];if(Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("order"));e?c(e):d.a.get("".concat(s,"/laundry")).then((function(e){c(e.data)}))}),[e.laundries]),!l)return r.a.createElement(L,null);var i=l.reduce((function(e,t){return e+t.quantity*t.price}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"10px",textAlign:"center",color:"#036C9C",fontWeight:"600",fontSize:"16px"}},r.a.createElement("h5",null,"Total: \u20ac",i.toFixed(2))))}function V(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)("clothing"),p=Object(o.a)(u,2),g=p[0],h=p[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("order"));e?c(e):d.a.get("".concat(s,"/laundry")).then((function(e){c(e.data)}))}),[]);return l&&g?r.a.createElement(r.a.Fragment,null,e.toIntro?r.a.createElement(i.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser,onLogOut:e.onLogOut}),r.a.createElement(R,{onCatSelect:function(e){h(e)}}),r.a.createElement("div",{className:"admin-list-container",style:{height:"110%"}},r.a.createElement(H,{onChangeAmount:function(e,t){var a=JSON.parse(JSON.stringify(l)).map((function(a){return a._id===t?("more"===e?a.quantity++:a.quantity--,a):a}));c(a),localStorage.setItem("order",JSON.stringify(a))},laundries:l,filter:g}),r.a.createElement("nav",{className:"navbar fixed-bottom navbar-light bg-light"},r.a.createElement(q,{laundries:l}),r.a.createElement(y.a.Item,{style:{marginLeft:"20px"}},r.a.createElement(f.b,{to:"/cart"},r.a.createElement(E.a,{className:"general-btn"},r.a.createElement("img",{src:"".concat(m,"/cart-outline.png"),alt:"cartImage"})," Go to the cart"))))))):r.a.createElement(L,null)}function Y(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1];if(Object(n.useEffect)((function(){c(JSON.parse(localStorage.getItem("order")))}),[]),!l)return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement(f.b,{to:"/home"},r.a.createElement("p",null,r.a.createElement(E.a,{className:"general-btn"},r.a.createElement("img",{src:"".concat(m,"/left-arrow.png"),style:{height:"15px"},alt:"button"})," Back to the lists")))),r.a.createElement("p",null,"The cart is empty"));var s=l.filter((function(e){return e.quantity>0}));return e.toIntro?r.a.createElement(i.a,{to:"/sign-in"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser,onLogOut:e.onLogOut}),r.a.createElement("div",{style:{marginLeft:"10px",marginTop:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(f.b,{to:"/home"},r.a.createElement("p",null,r.a.createElement(E.a,{className:"general-btn"},r.a.createElement("img",{src:"".concat(m,"/left-arrow.png"),style:{height:"15px"},alt:"button"})," Back to the lists"))),r.a.createElement(f.b,{to:"/userDetails"},r.a.createElement("p",null,r.a.createElement(E.a,{className:"general-btn"}," Order now ",r.a.createElement("img",{src:"".concat(m,"/next.png"),style:{height:"15px"},alt:"button"})))))),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{style:{background:"linear-gradient(180deg, rgba(228,246,255,1) 30%, rgba(141,217,252,1) 100%)",height:"100%"}},r.a.createElement(q,null),s.map((function(e,t){return r.a.createElement(k.a,{key:"cart"+t,style:{display:"flex",flexDirection:"row",margin:"10px",borderRadius:"5px",border:"1px solid #46C5FF"}},r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,null,e.name),r.a.createElement(k.a.Text,null,"Amount: ",e.quantity),r.a.createElement(k.a.Text,null,"Total: \u20ac",e.price*e.quantity)),r.a.createElement("img",{src:e.image,style:{height:"200px",width:"150px"},alt:"img"}))}))))}var Z=a(212),K=a(52),X=a(75),$=a.n(X),Q=a(138);a(449);function ee(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(null),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),g=Object(o.a)(p,2),f=g[0],h=g[1],y=Object(n.useState)(!0),b=Object(o.a)(y,2),v=b[0],x=b[1],C=Object(n.useState)(""),O=Object(o.a)(C,2),w=O[0],N=O[1],j=Object(K.useStripe)(),k=Object(K.useElements)(),I=Object(n.useState)(!1),L=Object(o.a)(I,2),D=(L[0],L[1]),U=Object(n.useState)(!1),F=Object(o.a)(U,2),B=F[0],P=F[1];Object(n.useEffect)((function(){window.fetch("".concat(s,"/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:JSON.parse(localStorage.getItem("order"))})}).then((function(e){return e.json()})).then((function(e){N(e.clientSecret)}))}),[]);var A=function(){var e=Object(Q.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.empty),d(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(Q.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(!0),e.next=4,j.confirmCardPayment(w,{payment_method:{card:k.getElement(K.CardElement),billing_details:{name:t.target.name.value}}});case 4:(a=e.sent).error?(d("Payment failed ".concat(a.error.message)),h(!1)):(d(null),h(!1),c(!0),D(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=JSON.parse(localStorage.getItem("order")).reduce((function(e,t){return e+t.quantity*t.price}),0);return r.a.createElement("div",{id:"stripeform"},r.a.createElement("form",{className:"pay-form",id:"payment-form",onSubmit:W},r.a.createElement(K.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:A}),u&&r.a.createElement("div",{className:"card-error",role:"alert"},u),r.a.createElement("p",{style:{margin:"5px"},className:l?"result-message card-error":"result-message card-error hidden"},"Payment succeeded!"),r.a.createElement("button",{className:"payout-btn",disabled:f||v||l,id:"submit",onClick:function(){return P(!0)}},f?r.a.createElement(T.a,{animation:"border",style:{color:"white"}}):"Pay \u20ac".concat(J))),l?r.a.createElement(S.a,{centered:!0,show:B},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Title,{className:"admin-card-title"},"Thank you for your order!")),r.a.createElement(S.a.Body,null,r.a.createElement(E.a,{onClick:e.onPlaceOrder,className:"general-btn"},"Go to homepage"))):r.a.createElement(r.a.Fragment,null))}var te=Object(Z.a)("pk_test_51HJbtACi0BSLj9s1UdXp5qb0IsxDhy7Pv5kqZgz5tYo0eaDGmNpB8ynh5wP794fU4mOxJIiVniJ4fMMdqgwWoKky005wtL6m2C");function ae(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(null),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],y=f[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(){y(!0)}))}),[]);return h||e.toIntro?r.a.createElement(i.a,{to:"/sign-in"}):p?l?r.a.createElement(i.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser}),r.a.createElement(K.Elements,{stripe:te},r.a.createElement(ee,{onPlaceOrder:function(){d.a.post("".concat(s,"/order"),{userId:e.loggedInUser._id,order:JSON.parse(localStorage.getItem("order")),pickUp:JSON.parse(localStorage.getItem("dates"))[0],delivery:JSON.parse(localStorage.getItem("dates"))[1]},{withCredentials:!0}).then((function(e){localStorage.removeItem("order");var t={city:JSON.parse(localStorage.getItem("address")).city,coordinates:JSON.parse(localStorage.getItem("address")).coordinates};d.a.post("".concat(s,"/user/").concat(p._id,"/edit"),{name:JSON.parse(localStorage.getItem("name")),address:t},{withCredentials:!0}).then((function(e){c(!0),localStorage.removeItem("name")}))}))}}))):r.a.createElement(L,null)}a(450);var ne=a(213),re=a.n(ne);function le(){return r.a.createElement("div",{className:"body-404"},r.a.createElement("p",{className:"text-404"},"Page not found! ",r.a.createElement("br",null),"Please take some time to relax."),r.a.createElement("iframe",{src:re.a,width:"384",height:"480",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0,title:"washer"}),r.a.createElement(f.b,{to:"/",className:"link-404"},"Or go to our homepage!"))}var ce=a(214),oe=a(215),ie=a(220),se=a(217),me=a(109),ue=a.n(me),de=function(e){Object(ie.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({address:e})},n.handleSelect=function(e){Object(me.geocodeByAddress)(e).then((function(e){Object(me.getLatLng)(e[0]).then((function(t){e[0].coordinates=t,n.props.handleLocationSearch(e)}))})).catch((function(e){return console.error("Error",e)}))},n.state={address:""},n}return Object(oe.a)(a,[{key:"render",value:function(){var e=this.props.placeholder;return r.a.createElement(ue.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(t){var a=t.getInputProps,n=t.suggestions,l=t.getSuggestionItemProps,c=t.loading;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({style:{width:"350px"}},a({placeholder:e,className:"location-search-input"}))),r.a.createElement("div",{className:"autocomplete-dropdown-container"},c&&r.a.createElement("div",null,"Loading..."),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",l(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))}))}}]),a}(r.a.Component),pe=a(218),ge=a(106),Ee=a(221),fe=a(110);a(458);function he(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=0,i=Object(n.useState)([]),m=Object(o.a)(i,2),u=m[0],p=m[1];function g(){return String(c++)}Object(n.useEffect)((function(){d.a.get("".concat(s,"/orders"),{withCredentials:!0}).then((function(e){var t=e.data,a=JSON.parse(JSON.stringify(u));t.map((function(e){a.push(e.pickUp),a.push(e.delivery)})),p(a)}));var e=document.getElementById("pickupDrag"),t=document.getElementById("deliverDrag");new fe.a(e,{eventData:{title:"pick up",color:"#46C5FF",id:g()}}),new fe.a(t,{eventData:{title:"delivery",color:"#46C5FF",id:g()}})}),[]);var h=u.map((function(e){return JSON.parse(JSON.stringify({title:"Busy",start:e,color:"#ff8080",textColor:"white",eventOverlap:!1,editable:!1}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",marginTop:"5px"}},"Drag the 'pick up' and 'delivery' buttons to the day and time you prefer. There has to be at least one day between pick up and delivery for us to be able to clean your clothes."),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.length>=1?r.a.createElement("p",{className:"general-btn",style:{display:"none"},id:"pickupDrag"},"Pick Up"):r.a.createElement("p",{className:"general-btn",style:{width:"100px",borderRadius:"5px",color:"white",textAlign:"center",padding:"3px",margin:"5px"},id:"pickupDrag"},"Pick Up"),a.length>=2?r.a.createElement("p",{className:"general-btn",style:{display:"none"},id:"deliverDrag"},"Delivery"):r.a.createElement("p",{className:"general-btn",style:{width:"100px",borderRadius:"5px",color:"white",textAlign:"center",padding:"3px",margin:"5px"},id:"deliverDrag"},"Delivery")),r.a.createElement("div",{id:"fullcalendar"},r.a.createElement(pe.a,{plugins:[ge.b,Ee.a,fe.b],initialView:"timeGridWeek",headerToolbar:{left:"prev,next",center:"title",right:"timeGridWeek,timeGridDay"},weekends:!1,validRange:function(e){var t=new Date(e.valueOf());t.setDate(t.getDate()+1);var a=new Date(e.valueOf());return a.setDate(a.getDate()+31),{start:t,end:a}},businessHours:{daysOfWeek:[1,2,3,4,5],startTime:"08:00",endTime:"18:00"},allDaySlot:!1,slotMinTime:"08:00:00",slotMaxTime:"18:00:00",defaultTimedEventDuration:"00:30",events:h,editable:!0,eventOverlap:!1,droppable:!0,longPressDelay:"500",eventLongPressDelay:"500",selectLongPressDelay:"500",eventDurationEditable:!1,drop:function(e){var t=JSON.parse(JSON.stringify(a));t.push(e.dateStr),l(t),localStorage.setItem("dates",JSON.stringify(t))},eventAllow:function(e){if(a[0]){var t=new Date(a[0]);return t.setDate(t.getDate()+1),!(t.toISOString()>=e.startStr)}if(!a[0])return console.log("check"),!0}})),r.a.createElement(S.a.Footer,null,a.length<2?r.a.createElement(E.a,{disabled:!0,className:"general-btn"},"Go to checkout"):r.a.createElement(f.b,{to:"/checkout"},r.a.createElement(E.a,{className:"general-btn"},"Go to checkout"))))}function ye(e){var t=e.Address,a=e.Name;console.log(t,a);var l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],u=function(){return s(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t&&a.firstName?r.a.createElement(E.a,{className:"general-btn",onClick:u},"Place your order ",r.a.createElement("img",{src:"".concat(m,"/next.png"),style:{height:"15px"},alt:"button"})):r.a.createElement(E.a,{disabled:!0,className:"general-btn",onClick:u},"Place your order ",r.a.createElement("img",{src:"".concat(m,"/next.png"),style:{height:"15px"},alt:"button"}))),r.a.createElement(S.a,{centered:!0,show:i,onHide:function(){return s(!1)}},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"admin-card-title"},"Choose a pick up and delivery date")),r.a.createElement(he,null)))}function be(e){var t=Object(n.useContext)(p),a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],u=l[1],g=Object(n.useState)(null),h=Object(o.a)(g,2),y=h[0],v=h[1],x=Object(n.useState)(t),C=Object(o.a)(x,2),O=C[0],S=C[1],w=Object(n.useState)(!1),N=Object(o.a)(w,2),j=N[0],k=N[1];if(Object(n.useEffect)((function(){d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){S(e.data),localStorage.getItem("name")?v(JSON.parse(localStorage.getItem("name"))):e.data.name&&(v(e.data.name),localStorage.setItem("name",JSON.stringify(e.data.name))),JSON.parse(localStorage.getItem("address"))?u(JSON.parse(localStorage.getItem("address"))):e.data.address&&(u(e.data.address),localStorage.setItem("address",JSON.stringify(e.data.address)))})).catch((function(){k(!0)}))}),[]),j||e.toIntro)return r.a.createElement(i.a,{to:"/sign-in"});if(!O)return r.a.createElement(L,null);var I=c?c.city:"Search Places...",T=y?y.firstName:null,D=y?y.lastName:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{loggedInUser:e.loggedInUser,onLogOut:e.onLogOut}),r.a.createElement("div",{style:{marginLeft:"10px",marginTop:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(f.b,{to:"/cart"},r.a.createElement("p",null,r.a.createElement(E.a,{className:"general-btn"},r.a.createElement("img",{src:"".concat(m,"/left-arrow.png"),style:{height:"15px"},alt:"button"})," Back to your cart"))),r.a.createElement(ye,{Address:c,Name:y}))),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{style:{background:"linear-gradient(180deg, rgba(228,246,255,1) 30%, rgba(141,217,252,1) 100%)",height:"100%"}},c&&y.firstName&&y.lastName?"":r.a.createElement("p",{style:{margin:"0px 10px"}},r.a.createElement("i",null,r.a.createElement("small",null,"Please fill al the inputs"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"10px 30px"}},r.a.createElement("label",{style:{color:"#036C9C",fontWeight:"600",fontSize:"16px"}},"First Name"),r.a.createElement("input",{onChange:function(e){var t=JSON.parse(localStorage.getItem("name"));t?t.firstName=e.currentTarget.value:t={firstName:e.currentTarget.value,lastName:""},console.log(t),localStorage.setItem("name",JSON.stringify(t)),v(t)},style:{width:"350px"},type:"text",defaultValue:T,placeholder:"Enter your firstname"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"10px 30px"}},r.a.createElement("label",{style:{color:"#036C9C",fontWeight:"600",fontSize:"16px"}},"Last Name"),r.a.createElement("input",{onChange:function(e){var t=JSON.parse(localStorage.getItem("name"));t?t.lastName=e.currentTarget.value:t={firstName:"",lastName:e.currentTarget.value},localStorage.setItem("name",JSON.stringify(t)),v(t)},style:{width:"350px"},type:"text",defaultValue:D,placeholder:"Enter your lastname"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"10px 30px"}},r.a.createElement("label",{style:{color:"#036C9C",fontWeight:"600",fontSize:"16px"}},"Your adress"),r.a.createElement(de,{placeholder:I,handleLocationSearch:function(e){var t={city:e[0].formatted_address,coordinates:e[0].coordinates};localStorage.setItem("address",JSON.stringify(t)),u(t),window.location.reload(!1)}}))),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{coordinates:c.coordinates,containerElement:r.a.createElement("div",{style:{height:"400px",marginTop:"5px"}}),mapElement:r.a.createElement("div",{style:{height:"100%",margin:"0px 50px"}})})):r.a.createElement("p",null)))}var ve=a(468);function xe(e){var t=e.order,a=t.userId,n=t.status,l=t.pickUp,c=t.delivery,o=t._id,i=t.message,s="to pick up"===n?"#ff8000":"picked up"===n?"#00008a":"washing"===n?"0080ff":"to deliver"===n?"#ffbf00":"#00ff00";return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(k.a,{style:{minWidth:"20rem",margin:"20px",maxWidth:"30rem",borderRadius:"5px",border:"1px solid #46C5FF"}},r.a.createElement(k.a.Body,{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{color:"#328CB6"}},r.a.createElement("h5",null,"Status : ",r.a.createElement("b",{style:{color:s}},n)),r.a.createElement("hr",null),"to pick up"===n?r.a.createElement("p",null," Your laundries will be picked up: ",r.a.createElement("b",null,l.slice(0,10))," at ",r.a.createElement("b",null,l.slice(11,16),"h")):"picked up"===n?r.a.createElement("p",null,"We are bringing your laundries to our installations"):"washing"===n?r.a.createElement("p",null,"Be patient we are taking care of your clothings"):"to deliver"===n?r.a.createElement("p",null," Your laundries will be delivered: ",r.a.createElement("b",null,c.slice(0,10))," at ",r.a.createElement("b",null,c.slice(11,16),"h")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"We hope you are happy with our services. We\u2019d like your feedback!"),r.a.createElement(ve.a,null,r.a.createElement(ve.a.Prepend,null,r.a.createElement(ve.a.Text,{style:{backgroundColor:"#46C5FF",color:"white",fontSize:"13px"}},"Here")),r.a.createElement(z.a,{onChange:function(t){return e.onChangeMessage(t,o)},style:{fontSize:"13px"},as:"textarea","aria-label":"With textarea",defaultValue:i}))),r.a.createElement("hr",null),r.a.createElement("h6",null,a.address.city)))))}function Ce(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(e.loggedInUser),p=Object(o.a)(u,2),g=p[0],h=p[1],y=Object(n.useState)(!1),v=Object(o.a)(y,2),x=v[0],C=v[1],O=Object(n.useState)(null),S=Object(o.a)(O,2),w=S[0],N=S[1];Object(n.useEffect)((function(){g?d.a.get("".concat(s,"/orders"),{withCredentials:!0}).then((function(e){var t=e.data.filter((function(e){return e.userId._id===g._id}));c(t),N(t)})):d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){h(e.data),d.a.get("".concat(s,"/orders"),{withCredentials:!0}).then((function(t){var a=t.data.filter((function(t){return t.userId._id===e.data._id}));c(a),N(a)})).catch((function(){C(!0)}))}))}),[]);var j=function(e,t){var a=JSON.parse(JSON.stringify(l));d.a.post("".concat(s,"/order/").concat(t,"/edit/message"),{message:e.currentTarget.value},{withCredentials:!0}).then((function(n){var r=a.map((function(a){return a._id===t&&(a.message=e.currentTarget.value),a}));c(r)}))};return x||e.toIntro?r.a.createElement(i.a,{to:"/sign-in"}):l&&w?r.a.createElement("div",{style:{height:"110%"}},r.a.createElement(b,{loggedInUser:e.loggedInUser,onLogOut:e.onLogOut}),r.a.createElement(P,{sortPickUp:function(){var e=JSON.parse(JSON.stringify(w));e.sort((function(e,t){return e.pickUp<t.pickUp?-1:e.pickUp>t.pickUp?1:0})),c(e)},sortDelivery:function(){var e=JSON.parse(JSON.stringify(w));e.sort((function(e,t){return e.delivery<t.delivery?-1:e.delivery>t.delivery?1:0})),c(e)},handleFilter:function(){var e=[];document.querySelectorAll('input[name="status"]:checked').forEach((function(t){e.push(t.value)}));var t=[];e.length?(e.forEach((function(e){l.forEach((function(a){a.status===e&&t.push(a)}))})),N(t)):N(l)}}),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement("div",{className:"user-orders-container",style:{height:"100%"}},r.a.createElement(f.b,{style:{marginTop:"20px"},to:"/home"},r.a.createElement("p",null,r.a.createElement(E.a,{className:"general-btn"},r.a.createElement("img",{src:"".concat(m,"/left-arrow.png"),style:{height:"15px"},alt:"button"})," Back to the lists"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},0===w.length?r.a.createElement("p",{style:{color:"#328CB6"}},"No orders"):w.map((function(e){return r.a.createElement(xe,{order:e,onChangeMessage:j})}))))):r.a.createElement(L,null)}function Oe(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=function(){return c(!1)};return r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center",paddingTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Deliverers Management view"),r.a.createElement("div",{className:"create-laundryitem-btn"},r.a.createElement(E.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Create a new deliverer")),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement(S.a,{centered:!0,show:l,onHide:i},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"admin-card-title"},"Create a new deliverer")),r.a.createElement(S.a.Body,null,r.a.createElement(g.a,{noValidate:!0,onSubmit:e.onCreateDeliverer},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Name"),r.a.createElement(g.a.Control,{name:"name",type:"text",placeholder:"Enter name"})),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Email address"),r.a.createElement(g.a.Control,{name:"email",type:"email",placeholder:"Enter email"})),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicPassword"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Password"),r.a.createElement(g.a.Control,{name:"password",type:"password",placeholder:"Password"})),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(E.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create"),e.createSucces?r.a.createElement(E.a,{className:"general-btn",onClick:i},"Back to list"):r.a.createElement(r.a.Fragment,null))))))}function Se(e){return r.a.createElement(k.a,{style:{width:"18rem",margin:"20px",borderRadius:"5px",border:"1px solid #46C5FF"}},r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,null,e.deliverer.username),r.a.createElement(k.a.Subtitle,{className:"mb-2 text-muted"},e.deliverer.email)),r.a.createElement(E.a,{variant:"danger",onClick:function(){return e.onDelete(e.deliverer._id)}},"Remove"))}function we(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],y=f[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),C=v[0],O=v[1],S=Object(n.useState)(null),w=Object(o.a)(S,2),N=w[0],j=w[1],k=Object(n.useState)(null),I=Object(o.a)(k,2),T=I[0],D=I[1],U=Object(n.useState)(!1),F=Object(o.a)(U,2),B=F[0],P=F[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){"admin"===e.data.type&&y(!0),c(e.data)})).catch((function(){g(!0)})),d.a.get("".concat(s,"/deliverers"),{withCredentials:!0}).then((function(e){j(e.data)}))}),[]);var A=function(e){d.a.delete("".concat(s,"/deliverer/").concat(e,"/delete"),{withCredentials:!0}).then((function(){var t=N.filter((function(t){return t._id!==e}));j(t)}))};return p||e.toIntro?r.a.createElement(i.a,{to:"/admin/sign-in"}):l&&N?l&&!h||e.toIntro?r.a.createElement(i.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{loggedInUser:e.loggedInUser,onAdminLogOut:e.onAdminLogOut}),r.a.createElement(Oe,{onCreateDeliverer:function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.email,r=t.password;d.a.post("".concat(s,"/deliverer/create"),{username:a.value,email:n.value,password:r.value},{withCredentials:!0}).then((function(e){O(!0);var t=e.data,a=JSON.parse(JSON.stringify(N));a.push(t),j(a),P(!0);D("Deliverer created!")})).catch((function(e){P(!0);var t=e.response.data.error;D(t)}))},createSucces:C,errorMessage:T,err:B,handleError:function(){P(!1)}}),r.a.createElement("div",{style:{background:"linear-gradient(180deg, rgba(228,246,255,1) 30%, rgba(141,217,252,1) 100%)",height:"100%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},N.map((function(e){return r.a.createElement(Se,{onDelete:A,deliverer:e})}))))):r.a.createElement(L,null)}function Ne(e){return e.loggedInUser?r.a.createElement(i.a,{to:"/admin/delivery"}):r.a.createElement("div",{className:"admin-signin"},r.a.createElement(x,{loggedInUser:e.loggedInUser}),r.a.createElement("p",{style:{textAlign:"center",marginTop:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px"}},r.a.createElement("em",null,"This is our deliverers web site")),r.a.createElement(g.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignIn},r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicEmail"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Email address"),r.a.createElement(g.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(g.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(g.a.Group,{style:{width:"50%"},controlId:"formBasicPassword"},r.a.createElement(g.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Password"),r.a.createElement(g.a.Control,{name:"password",type:"password",placeholder:"Password"}),r.a.createElement(g.a.Text,{className:"text-muted"},"Password needs to have a number, a character, a lowercase and uppercase letter and needs to have at least 8 characters.")),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement(E.a,{style:{fontSize:"20px"},className:"general-btn",variant:"primary",type:"submit"},"Sign In")),r.a.createElement("p",{style:{textAlign:"center",color:"#036C9C",fontWeight:"600",fontSize:"16px",margin:"0% 18%",paddingTop:"20px",paddingBottom:"50px"}},"Do you want to be one of us?",r.a.createElement("br",null),"Reach out to us by ",r.a.createElement("a",{href:"mailto:business@plaundry.com"},r.a.createElement("img",{style:{width:"20px"},src:"".concat(m,"/email-blue.png"),alt:"email"}))))}function je(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],y=f[1];return Object(n.useEffect)((function(){d.a.get("".concat(s,"/availability"),{withCredentials:!0}).then((function(e){"deliverer"===e.data.type&&y(!0),c(e.data)})).catch((function(){g(!0)}))}),[]),p||e.toIntro?r.a.createElement(i.a,{to:"/admin/sign-in"}):l?l&&!h?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(x,{loggedInUser:l,onAdminLogOut:e.onAdminLogOut})):r.a.createElement(L,null)}var ke=a(66);function Ie(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=function(){return c(!1)};return r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center",paddingTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Availability"),r.a.createElement("div",{className:"create-laundryitem-btn"},r.a.createElement(E.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Create a new service region")),r.a.createElement("hr",{style:{border:"1px solid #328CB6",margin:"0px"}}),r.a.createElement(S.a,{centered:!0,show:l,onHide:i},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"admin-card-title"},"Create a new Postal Code")),r.a.createElement(S.a.Body,null,r.a.createElement(g.a,{onSubmit:e.onCreatePostalCode},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,{className:"admin-card-title"},"Postal Code"),r.a.createElement(g.a.Control,{name:"postalCode",type:"text",placeholder:"Enter name"})),e.err?r.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(E.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create"),e.createSucces?r.a.createElement(E.a,{className:"general-btn",onClick:i},"Back to list"):r.a.createElement(r.a.Fragment,null))))))}function Te(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(null),u=Object(o.a)(m,2),p=u[0],g=u[1],E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],y=f[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),C=v[0],O=v[1],S=Object(n.useState)(!1),w=Object(o.a)(S,2),N=w[0],j=w[1],k=Object(n.useState)(null),I=Object(o.a)(k,2),T=I[0],D=I[1],U=Object(n.useState)(!1),F=Object(o.a)(U,2),B=F[0],P=F[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){"admin"===e.data.type&&j(!0),y(e.data)})).catch((function(){O(!0)})),d.a.get("".concat(s,"/availability"),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){}))}),[]);return C?r.a.createElement(i.a,{to:"/admin/sign-in"}):p?h&&!N||e.toIntro?r.a.createElement(i.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{loggedInUser:e.loggedInUser,onAdminLogOut:e.onAdminLogOut}),r.a.createElement(Ie,{onCreatePostalCode:function(e){e.preventDefault(),d.a.post("".concat(s,"/availability/create"),{Code:e.currentTarget.postalCode.value},{withCredentials:!0}).then((function(e){c(!0),P(!0);D("Region added!")}))},createSucces:l,err:B,errorMessage:T}),r.a.createElement("div",{className:"avail-list"},p.map((function(e,t){return r.a.createElement(ke.a,{key:"pc"+t,style:{margin:"10px 20px"},label:e.Code,id:"pc"+t,type:"switch",checked:e.available,onChange:function(t){return function(e,t){var a=JSON.parse(JSON.stringify(p));console.log(e.currentTarget.checked),d.a.post("".concat(s,"/availability/").concat(t,"/edit"),{available:e.currentTarget.checked},{withCredentials:!0}).then((function(e){var n=a.map((function(e){return e._id===t&&(e.available=!e.available),e}));g(n)})).catch((function(e){}))}(t,e._id)}})})))):r.a.createElement(L,null)}a(459),a(460);var Le=Object(i.g)((function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),m=Object(o.a)(c,2),u=m[0],g=m[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],y=f[1],b=Object(n.useState)(!1),x=Object(o.a)(b,2),S=x[0],w=x[1],N=Object(n.useState)(!1),j=Object(o.a)(N,2),k=j[0],I=j[1],T=Object(n.useState)(null),L=Object(o.a)(T,2),D=L[0],F=L[1],B=Object(n.useState)(!1),P=Object(o.a)(B,2),W=P[0],J=P[1],M=Object(n.useState)(!1),z=Object(o.a)(M,2),R=z[0],H=z[1],q=Object(n.useState)(!1),Z=Object(o.a)(q,2),K=Z[0],X=Z[1];Object(n.useEffect)((function(){d.a.get("".concat(s,"/laundry")).then((function(e){l(e.data)})),u||d.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){g(e.data)}))}),[u]);var $=function(e){e.preventDefault();var t=e.currentTarget,a=t.email,n=t.password;d.a.post("".concat(s,"/signin"),{email:a.value,password:n.value},{withCredentials:!0}).then((function(e){g(e.data),setTimeout((function(){return I(!0)}),500)})).catch((function(e){J(!0);var t=e.response.data.error;F(t)}))},Q=function(e){e.preventDefault();var t=e.currentTarget,a=t.username,n=t.email,r=t.password;d.a.post("".concat(s,"/signup"),{username:a.value,email:n.value,password:r.value},{withCredentials:!0}).then((function(e){g(e.data),setTimeout((function(){return I(!0)}),500)})).catch((function(e){J(!0);var t=e.response.data.error;F(t)}))},ee=function(e){e.preventDefault();var t=e.currentTarget,a=t.email,n=t.password;d.a.post("".concat(s,"/admin/signin"),{email:a.value,password:n.value},{withCredentials:!0}).then((function(e){g(e.data),w(!0)})).catch((function(e){H(!0);var t=e.response.data.error;F(t)}))},te=function(){d.a.post("".concat(s,"/logout"),{},{withCredentials:!0}).then((function(){w(!1),localStorage.clear(),g(null),setTimeout((function(){return y(!0)}),500),setTimeout((function(){return y(!1)}),700)}))},ne=function(e){e.preventDefault();var t=e.currentTarget,a=t.email,n=t.password;d.a.post("".concat(s,"/deliverer/signin"),{email:a.value,password:n.value},{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){J(!0);var t=e.response.data.error;F(t)}))},re=function(e){e.preventDefault();var t=e.currentTarget,n=t.name,r=t.description,c=t.price,o=t.category,i=t.image,m=i.files[0].name,u=m.substring(m.length-3);"jpg"!==u||"png"!==u?(J(!0),F("Please select .jpg or .png")):i.files[0].size>10485760&&(J(!0),F("Image is too big"));var p=new FormData;p.append("imageUrl",i.files[0]),d.a.post("".concat(s,"/upload"),p).then((function(e){d.a.post("".concat(s,"/laundry/create"),{name:n.value,category:o.value,description:r.value,price:c.value,image:e.data.image},{withCredentials:!0}).then((function(e){J(!0),F(e.data.message),setTimeout((function(){return J(!1)}),3e3);var t=e.data.response,n=JSON.parse(JSON.stringify(a));n.push(t),l(n),X(!0)})).catch((function(e){J(!0);var t=e.response.data.error;F(t),X(!1)}))})).catch((function(e){J(!0);var t=e.response.data.error;F(t),X(!1)}))},ce=function(e){d.a.post("".concat(s,"/laundry/").concat(e._id,"/edit"),{name:e.name,description:e.description,price:e.price,category:e.category,image:e.image},{withCredentials:!0}).then((function(t){J(!0),F(t.data.message);var n=a.map((function(t){return t._id===e._id&&(t=e),t}));l(n),setTimeout((function(){return J(!1)}),2e3)})).catch((function(e){J(!0);var t=e.response.data.error;F(t)}))},oe=function(e){d.a.get("".concat(s,"/orders"),{withCredentials:!0}).then((function(t){t.data.forEach((function(t){t.orderItems.forEach((function(t){if(t.laundry._id===e)return J(!0),void F("Item is part of an order, can't delete now");J(!1),F(null),W||d.a.delete("".concat(s,"/laundry/").concat(e,"/delete"),{withCredentials:!0}).then((function(){var t=a.filter((function(t){return t._id!==e}));l(t)}))}))}))}))},ie=function(){d.a.post("".concat(s,"/logout"),{},{withCredentials:!0}).then((function(){localStorage.clear(),g(null),console.log("loggingOut"),setTimeout((function(){return y(!0)}),500),setTimeout((function(){return y(!1)}),700)}))},se=function(){J(!1)};return r.a.createElement(p.Provider,{value:u},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:_}),r.a.createElement(i.b,{path:"/sign-in",render:function(){return r.a.createElement(v,{toHome:k,onSignIn:$,err:W,errorMessage:D,handleError:se})}}),r.a.createElement(i.b,{path:"/sign-up",render:function(){return r.a.createElement(O,{toHome:k,onSignUp:Q,err:W,errorMessage:D,handleError:se})}}),r.a.createElement(i.b,{exact:!0,path:"/admin",render:function(){return r.a.createElement(U,{laundrylist:a,onCreate:re,onDelete:oe,onAdminLogOut:te,onEdit:ce,loggedInUser:u,adminUser:S,err:W,errorMessage:D,handleError:se,createSucces:K,toIntro:h})}}),r.a.createElement(i.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(V,{onLogOut:ie,laundrylist:a,loggedInUser:u,toIntro:h})}}),r.a.createElement(i.b,{path:"/admin/sign-in",render:function(){return r.a.createElement(C,{onAdminLogOut:te,onSignIn:ee,loggedInUser:u,adminErr:R,errorMessage:D})}}),r.a.createElement(i.b,{exact:!0,path:"/deliverer/sign-in",render:function(){return r.a.createElement(Ne,{onSignIn:ne,loggedInUser:u,err:W,errorMessage:D,handleError:se})}}),r.a.createElement(i.b,{exact:!0,path:"/deliverer/home",render:function(){return r.a.createElement(je,{loggedInUser:u,toIntro:h})}}),r.a.createElement(i.b,{exact:!0,path:"/admin/delivery",render:function(){return r.a.createElement(A,{loggedInUser:u,adminUser:S,onAdminLogOut:te,toIntro:h})}}),r.a.createElement(i.b,{path:"/admin/delivery/:id/details",render:function(e){return r.a.createElement(G,Object.assign({},e,{loggedInUser:u,onAdminLogOut:te,toIntro:h}))}}),r.a.createElement(i.b,{exact:!0,path:"/admin/deliverersmanage",render:function(){return r.a.createElement(we,{onAdminLogOut:te,loggedInUser:u,toIntro:h})}}),r.a.createElement(i.b,{exact:!0,path:"/admin/avaibility",render:function(){return r.a.createElement(Te,{onAdminLogOut:te,loggedInUser:u,toIntro:h})}}),r.a.createElement(i.b,{path:"/cart",render:function(){return r.a.createElement(Y,{loggedInUser:u,onLogOut:ie,toIntro:h})}}),r.a.createElement(i.b,{path:"/userDetails",render:function(){return r.a.createElement(be,{loggedInUser:u,onLogOut:ie,toIntro:h})}}),r.a.createElement(i.b,{path:"/userOrders",render:function(){return r.a.createElement(Ce,{loggedInUser:u,onLogOut:ie,toIntro:h})}}),r.a.createElement(i.b,{path:"/checkout",render:function(){return r.a.createElement(ae,{loggedInUser:u})}}),r.a.createElement(i.b,{path:"*",render:function(){return r.a.createElement(le,null)}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[223,1,2]]]);
//# sourceMappingURL=main.166a8a2c.chunk.js.map